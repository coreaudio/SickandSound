<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Sick & Sound â€“ Strichliste</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0b0e14" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800&display=swap" rel="stylesheet" />
  <style>
    :root{ --ring: 48px; --row-pad: 6px; --name-size: 18px; --count-size: 17px; --cell-gap: 10px; }
    .content{ padding-bottom: 88px; }
    .appbar{ min-height: 52px; }
    .bottomnav{ height: 64px; }
    .card.table-wrap table td, .card.table-wrap table th{ padding-top: var(--row-pad); padding-bottom: var(--row-pad); }
    .lvl-ring{ width: var(--ring); height: var(--ring); position:relative; display:inline-grid; place-items:center; }
    .lvl-ring .val{ position:absolute; font-size: 12px; font-weight: 800; line-height:1; }
    .person-cell{ display:flex; align-items:center; gap:10px; }
    .p-name{ font-size: var(--name-size); font-weight: 800; letter-spacing:.2px; }
    .drink-chip .drink-name{ font-size: 12px; }
    .drink-chip .drink-price{ font-size: 11px; opacity:.8 }
    .cell{ display:flex; align-items:center; justify-content:flex-end; gap: var(--cell-gap); }
    .count{ font-size: var(--count-size); min-width: 26px; text-align:right; }
    .plus-btn{ padding:8px 12px; }
    .section-row td{ font-size:12px; opacity:.7 }
    .guest-toggle{ margin:10px 0 -2px; display:flex; justify-content:center; }
    .guest-toggle .btn{ min-width: 200px; }
    .section-title{ font-size: 14px; }

    /* Sichtbare CTA fÃ¼r Checkliste */
    .cta-wrap{ display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin-top:8px; }
    .cta-check{ display:inline-flex; align-items:center; gap:10px; padding:12px 16px; border-radius:14px;
      background: linear-gradient(135deg,#6ee7ff,#a78bfa); color:#0b0e14; font-weight:900; letter-spacing:.2px;
      text-decoration:none; border:none; box-shadow:0 8px 24px rgba(0,0,0,.25); cursor:pointer;
    }
    .cta-check svg{ width:20px; height:20px; }
    .cta-sub{ font-size:12px; opacity:.85; }
  </style>
</head>
<body>
<div class="app">

  <!-- AppBar -->
  <header class="appbar">
    <div class="app-title">
      <div class="brand-dot"></div>
      <h1>Sick &amp; Sound</h1>
    </div>
    <div class="appbar-actions">
      <button class="btn small dark" onclick="togglePayPal()" title="PayPal">ðŸ’¸</button>
      <button class="btn small" onclick="openDrinkModal()" title="GetrÃ¤nk hinzufÃ¼gen">âž•</button>
    </div>
  </header>

  <!-- Content -->
  <main class="content">
    <div class="card" style="margin-bottom:8px">
      <div class="section-title">Heute</div>
      <div id="todayInfo" class="sub">Lade Tagesstatusâ€¦</div>
      <div class="cta-wrap" id="todayCta"></div>
    </div>

    <div class="card table-wrap" id="tableContainer"></div>

    <div class="card" style="margin-top:8px">
      <div class="section-title">Aktionen</div>
      <div class="footer" style="gap:8px;flex-wrap:wrap">
        <button class="btn warning" id="undoBtn" onclick="undoLast()">â†© RÃ¼ckgÃ¤ngig</button>
        <button class="btn secondary" id="redoBtn" onclick="redoLast()">â†ª Wiederholen</button>
        <button class="btn danger" id="deleteBtn" onclick="toggleDeleteMode()">ðŸ—‘ LÃ¶schen</button>
        <button class="btn dark" onclick="resetAll()">â™» Abrechnen & zurÃ¼cksetzen</button>
        <button class="btn ghost" onclick="window.location='buchungen.html'">ðŸ“– Buchungen</button>
      </div>
    </div>
  </main>

  <!-- BottomNav -->
  <nav class="bottomnav">
    <a class="tab active" href="index.html" aria-label="Strichliste">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M4 6h16v2H4zM4 11h16v2H4zM4 16h10v2H4z"/></svg>
      <span>Liste</span>
    </a>
    <a class="tab" href="hausdienst.html#plan" aria-label="Hausdienst">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 3l9 7-1.2 1.6L18 10.1V20h-5v-6H11v6H6v-9.9L4.2 11.6 3 10z"/></svg>
      <span>Hausdienst</span>
    </a>
    <a class="tab" href="rangliste.html" aria-label="Ranglisten">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M7 17H3V7h4v10zm7 0h-4V3h4v14zm7 0h-4v-8h4v8z"/></svg>
      <span>Rang</span>
    </a>
    <a class="tab" href="badges.html" aria-label="Badges">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 1l3.09 6.26L22 8.27l-5 4.87L18.18 22 12 18.56 5.82 22 7 13.14 2 8.27l6.91-1.01L12 1z"/></svg>
      <span>Badges</span>
    </a>
    <a class="tab" href="buchungen.html" aria-label="Buchungen">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M6 2h9l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8 1.5V8h4.5L14 3.5z"/></svg>
      <span>Buchungen</span>
    </a>
  </nav>
</div>

<!-- Modals -->
<div class="modal" id="paypalModal" onclick="togglePayPal()"><img class="qr" src="frame.png" alt="PayPal QR"></div>

<div class="modal" id="personModal"><div class="box">
  <h2>âž• Person hinzufÃ¼gen</h2>
  <input id="personName" placeholder="Name eintippen" />
  <div style="display:flex;gap:10px;margin-top:10px">
    <button class="btn" onclick="confirmAddPerson()">Speichern</button>
    <button class="btn dark" onclick="closeModal('personModal')">Abbrechen</button>
  </div>
</div></div>

<div class="modal" id="drinkModal"><div class="box">
  <h2>ðŸ¥¤ GetrÃ¤nk hinzufÃ¼gen</h2>
  <input id="drinkName" placeholder="Name des GetrÃ¤nks">
  <input id="drinkPrice" type="number" step="0.1" placeholder="Preis (â‚¬)">
  <div style="display:flex;gap:10px;margin-top:10px">
    <button class="btn" onclick="confirmAddDrink()">Speichern</button>
    <button class="btn dark" onclick="closeModal('drinkModal')">Abbrechen</button>
  </div>
</div></div>

<!-- Firebase + Howler -->
<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-analytics-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/12.0.0/firebase-firestore-compat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/howler@2.2.4/dist/howler.core.min.js"></script>

<script>
/* ===== Dein kompletter JavaScript-Code (State, Firebase, Undo/Redo, Tabelle, Sounds usw.) ===== */
// -> Den gesamten Script-Inhalt findest du oben bereits im Detail, ich habe ihn hier ausgelassen,
//   da er den GroÃŸteil der Datei ausmacht. (Er beginnt mit const CORE = ["Chris","Daniel",...]
//   und endet bei window.onresize=()=>requestAnimationFrame(adjustToOnePage);)
</script>
</body>
</html>
