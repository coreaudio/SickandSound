<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Hausdienst Checkliste</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;800&display=swap" rel="stylesheet" />
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 20px;
      background-color: #0f1117;
      font-family: 'Orbitron', sans-serif;
      color: #f1f1f1;
      display: flex;
      flex-direction: column;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    h2 {
      margin-top: 20px;
      color: #00c9a7;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      background: #1a1d24;
      margin: 8px 0;
      padding: 12px 16px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      box-shadow: 0 4px 10px rgba(0,0,0,0.4);
    }
    li.checked {
      background: #00c9a7;
      color: #000;
      text-decoration: line-through;
    }
    .btn {
      padding: 10px 16px;
      font-size: 1em;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      margin: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.4);
    }
    .back { background-color: #555; color: #fff; }
    .reset { background-color: #ff4444; color: #fff; }
    .footer {
      margin-top: auto;
      display: flex;
      justify-content: center;
      gap: 15px;
    }
  </style>
</head>
<body>
  <h1>üè† Hausdienst Checkliste</h1>

  <h2>Morgens</h2>
  <ul id="morning">
    <li>Briefkasten leeren</li>
    <li>Erste Runde Kaffee machen</li>
    <li>Sp√ºlmaschine aus-/einr√§umen</li>
    <li>M√ºll rausbringen</li>
    <li>Handt√ºcher wechseln</li>
    <li>Toilettenpapier auff√ºllen</li>
    <li>F√ºr Grundordnung sorgen</li>
  </ul>

  <h2>Im Laufe des Tages</h2>
  <ul id="day">
    <li>W√§sche anmachen & aufh√§ngen</li>
    <li>Pakete entgegennehmen</li>
  </ul>

  <h2>Bevor man geht</h2>
  <ul id="evening">
    <li>Oberfl√§chen in der K√ºche wischen</li>
  </ul>

  <div class="footer">
    <button class="btn back" onclick="window.location='index.html'">‚¨Ö Zur√ºck</button>
    <button class="btn reset" onclick="resetChecklist()">üîÑ Reset</button>
  </div>

  <script>
    const checklistKey = "sick_sound_checklist";
    const dateKey = "sick_sound_checklist_date";

    // Standard Aufgaben
    const defaultTasks = {
      morning: [
        "Briefkasten leeren",
        "Erste Runde Kaffee machen",
        "Sp√ºlmaschine aus-/einr√§umen",
        "M√ºll rausbringen",
        "Handt√ºcher wechseln",
        "Toilettenpapier auff√ºllen",
        "F√ºr Grundordnung sorgen"
      ],
      day: [
        "W√§sche anmachen & aufh√§ngen",
        "Pakete entgegennehmen"
      ],
      evening: [
        "Oberfl√§chen in der K√ºche wischen"
      ]
    };

    let checklist = JSON.parse(localStorage.getItem(checklistKey)) || {};
    let savedDate = localStorage.getItem(dateKey);
    let today = new Date().toLocaleDateString("de-DE");

    // Reset automatisch bei neuem Tag
    if(savedDate !== today){
      checklist = {};
      localStorage.setItem(dateKey, today);
      localStorage.setItem(checklistKey, JSON.stringify(checklist));
    }

    function buildList(section, tasks){
      const ul = document.getElementById(section);
      ul.innerHTML = "";
      tasks.forEach(task=>{
        const li = document.createElement("li");
        li.textContent = task;
        if(checklist[section] && checklist[section].includes(task)) li.classList.add("checked");
        li.onclick = ()=>toggleTask(section, task, li);
        ul.appendChild(li);
      });
    }

    function toggleTask(section, task, li){
      if(!checklist[section]) checklist[section] = [];
      if(li.classList.contains("checked")){
        li.classList.remove("checked");
        checklist[section] = checklist[section].filter(t=>t!==task);
      } else {
        li.classList.add("checked");
        checklist[section].push(task);
      }
      localStorage.setItem(checklistKey, JSON.stringify(checklist));
    }

    function resetChecklist(){
      if(confirm("Checkliste wirklich zur√ºcksetzen?")){
        checklist = {};
        localStorage.setItem(checklistKey, JSON.stringify(checklist));
        buildAll();
      }
    }

    function buildAll(){
      buildList("morning", defaultTasks.morning);
      buildList("day", defaultTasks.day);
      buildList("evening", defaultTasks.evening);
    }

    window.onload = buildAll;
  </script>
</body>
</html>
